/* Reset minimo */
* { box-sizing: border-box; }
html, body { margin:0; padding:0; height:100%; }

body.touch-app{
  font-family: -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif;
  background:#fafafa; color:#222;
  font-size: clamp(8px, 2.5vw, 18px);
}
/* Assicura lo stesso font su controlli */
button, input {
  font: inherit;
}

.app{
  min-height:100dvh;
  display:flex; flex-direction:column;
}

/* Area risultati (scroll) */
#results-area{
  flex: 1;
  overflow-y: auto;
  padding: 0.3em 0.2em 0; /* in alto/lati come la home */
  padding-bottom: 180px;   /* spazio per la barra fissa in basso */
}

/* Blocchi (titolo + tabella) */
.block{ margin-bottom:0.6rem; }
.block h3{
  margin:0.3rem 0 0.2rem 0.1rem;
  font-weight:600; font-size:15px;
}

/* Tabella full-width, stile coerente col sito */
.table{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed;
  font-size: clamp(12px, 2.6vw, 16px);
}
.table tr + tr td{ border-top:1px solid #ddd; } /* solo linee orizzontali interne */
.table td{
  padding:6px 6px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  vertical-align:middle;
}
.table .td-codice{
  text-align:left;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-weight:500; width:36%;
}
.table .td-desc{ text-align:left; width:48%; }
.table .td-scaffale{ text-align:right; width:16%; white-space:nowrap; }

/* Zona input + keypad sticky in basso */
.input-zone{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  background: #fafafa;
  padding: 0.3rem 0.2rem calc(0.3rem + env(safe-area-inset-bottom));
  border-top: 1px solid #e5e5e5;
  z-index: 10;
}

/* Riga input */
.input-row{
  display:flex; align-items:center; gap:0.4rem;
  margin-bottom:0.4rem;
}
.input-container{ flex:1; position:relative; }
.code-input{
  width:100%;
  font-size:16px;               /* >=16px: niente zoom iOS */
  line-height:1.2;
  padding:10px 12px;
  border:1px solid #000; background:#fff; color:#222;
  border-radius:6px;
}
/* Emoji fotocamera dentro input */
.camera-inside {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: auto;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
}
.code-input {
  padding-right: 2.2em; /* spazio per emoji */
}
/* Toggle tastiera */
.kbd-toggle{
  font-size:16px; line-height:1;
  padding:10px 12px;
  border:1px solid #000; background:#fff; color:#222;
  border-radius:6px; cursor:pointer;
}

/* Keypad: due righe da 6, tasti quadrati e identici */
.keypad{
  display: grid;
  grid-template-columns: repeat(6, minmax(0, 1fr));
  grid-auto-flow: row;
  gap: 6px;
}
.key{
  display: flex;
  align-items: center;
  justify-content: center;

  font-size: 18px;
  background: #fff; color: #222;
  border: 1px solid #000; border-radius: 8px;
  touch-action: manipulation; user-select: none;

  /* quadrati coerenti */
  aspect-ratio: 1 / 1;
  min-height: 54px;
}
.key:active{ background:#f0f0f0; }

/* Desktop: centriamo e limitiamo larghezza */
@media (min-width:768px){
  #results-area, .input-zone{
    max-width: 100vw;
    margin: 0;
  }
}